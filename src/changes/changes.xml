<?xml version="1.0" encoding="UTF-8"?>

<document>
	<properties>
		<title>Change log</title>
		<author email="eoulsan@biologie.ens.fr">
			The Eoulsan team
		</author>
	</properties>
	<body>

		<!--release version="0.1" description="First release" date="2010-03-01">
			<action dev="jourdren" type="add">
				Import data in hdfs.
			</action>
			<action dev="jourdren" type="add">
				Filter reads.
			</action>
			<action dev="jourdren" type="add">
				Map reads.
			</action>
			<action dev="jourdren" type="add">
                First release.
            </action>
		</release>

		<release version="0.2" description="" date="2010-06-16">
            <action dev="mbernard" type="fix">
                Fix R anadif script.
            </action>
        </release>

        <release version="0.3" description="" date="2010-07-07">
            <action dev="mbernard" type="fix">
                Check read and quality length in ReadSequence.
            </action>
            <action dev="mbernard" type="fix">
                Fix R anadiff script.
            </action>
            <action dev="jourdren" type="add">
                TFQ format support in distributed mode.
            </action>
            <action dev="jourdren" type="add">
                Upload of compressed FASTQ files on HDFS.
            </action>
            <action dev="jourdren" type="fix">
                Fix FASTQ parsing in local mode.
            </action>
            <action dev="jourdren" type="fix">
                Fix trim sequence when sequence contains only 'N' nucleotides.
            </action>
        </release>

         <release version="0.4" description="" date="2010-07-28">
            <action dev="jourdren" type="fix">
                Bad counter names in filter samples.
            </action>

            <action dev="jourdren" type="add">
                DESeq modules installation documentation.
            </action>

            <action dev="mbernard" type="fix">
                Fix R anadiff code.
            </action>

         </release>

         <release version="0.5" description="" date="2011-01-07">
            <action dev="jourdren" type="fix">
                Integer division was used in mean quality computation.
            </action>
         </release-->

         <release version="1.0" description="" date="2011-03-11">
            <action dev="jourdren" type="update">
                1.0 version.
            </action>
         </release>

          <release version="1.0.1" description="" date="2011-03-17">
            <action dev="jourdren" type="update">
                Documentation update and copyrights.
            </action>
            <action dev="jourdren" type="fix">
                In Expression computaion in local mode, remove SAM header from the list of accepted values.
            </action>
            <action dev="jourdren" type="add">
                Reads mapper can now generate SAM header from the list of the chromosomes.
            </action>
            <action dev="jourdren" type="fix">
                Keep the order the chromsomes for SAM header.
            </action>
            <action dev="jourdren" type="update">
                In filtersam step in local mode, now use picard library to read and write SAM files.
            </action>
            <action dev="jourdren" type="update">
                Remove unused packages.
            </action>
            <action dev="jourdren" type="update">
                Major Update of API: In Step, the configure() method don't need now globals
                parameters. The globals parameters are now the settings.
            </action>
            <action dev="jourdren" type="fix">
                In local expression computation step, now use the path of temporary directory in Settings.
            </action>
            <action dev="jourdren" type="fix">
                In expression computation, the ends of the alignments was 1 base too long.
            </action>
         </release>


         <release version="1.0.2" description="" date="2011-04-15">

            <action dev="jourdren" type="update">
                Documentation update.
            </action>
            <action dev="jourdren" type="fix">
                Fix bug in Expression computation when chromosome is not set in annotation.
            </action>
         </release>

         <release version="1.0.3" description="" date="2011-04-18">

            <action dev="jourdren" type="fix">
                Use now temporary directory defined in parameter file for genome indexing and reads mapping in local mode.
            </action>
         </release>

         <release version="1.0.4" description="" date="2011-04-19">

            <action dev="jourdren" type="fix">
                Anadiff step was not found.
            </action>
         </release>

         <release version="1.0.5" description="" date="2011-04-26">

            <action dev="jourdren" type="fix">
                Now use Bowtie read mapper with "--phred64-quals" as default argument.
            </action>
             <action dev="jourdren" type="update">
                Rename anadiff step to diffana.
            </action>
            <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.6" description="" date="2011-04-28">

            <action dev="jourdren" type="update">
                In the createdesign command : Prevent adding compressed genome
                to design file and overwrite existing design file. Creation of
                the design fails if a file in the arguments does not exist.
            </action>
             <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.7" description="" date="2011-04-28">

            <action dev="jourdren" type="update">
                Don't start an analysis with compressed genome or annotation in the design file.
            </action>
             <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.8" description="" date="2011-05-04">

            <action dev="jourdren" type="update">
                Change the name of the keys for AWS keys in configuration file or global section of the parameter file.
            </action>
            <action dev="jourdren" type="fix">
                The path to AWS log can be omited.
            </action>
             <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.9" description="" date="2011-05-05">

            <action dev="jourdren" type="fix">
                Bug in workflow when checking existing input files.
            </action>
            <action dev="jourdren" type="fix">
                Fix the number of required arguments for awsexec command.
            </action>
            <action dev="jourdren" type="fix">
                In awsexec s3:// url works now like s3n:// url.
            </action>
             <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.10" description="" date="2011-05-05">

            <action dev="jourdren" type="fix">
                Don't prevent usage of compressed annotation and genome files in distributed mode.
            </action>
             <action dev="jourdren" type="update">
                Update documentation.
            </action>
         </release>

         <release version="1.0.11" description="" date="2011-05-06">

            <action dev="jourdren" type="fix">
                Only create debug files in debug mode in distributed mode.
            </action>
             <action dev="jourdren" type="update">
                Update Quickstart documentation.
            </action>
         </release>

         <release version="1.1" description="Eoulsan 1.1 release" date="2012-02-05">

            <action dev="jourdren" type="fix" issue="7">
               Fix: OutOfMemoryError exception in awsmode on hadoop master node with mouse genome in _genomedescgenerator step.
            </action>
            <action dev="jourdren" type="fix" issue="5">
               Fix: _genericindexgenerator step fail when the name of the genome is "genome.fasta.bz2".
            </action>
            <action dev="jourdren" type="add">
                Add new steps to compute alignments using gsnap and gmap.
            </action>
            <action dev="jourdren" type="add">
                Add support far all FASTQ formats.
                Add a new column in design file (FastqFormat) to define the FASTQ format to use.
                Warning default FASTQ format is now sanger. This default value can be set with phred.offset.default key.
            </action>
            <action dev="jourdren" type="add">
                The filterreads and filtersam steps are now multi-threaded in local mode.
            </action>
            <action dev="jourdren" type="add">
                Support for annotation and genome compressed files (in gzip or bzip2).
            </action>
            <action dev="jourdren" type="add">
                The createdesign command can now generate an Eoulsan design file from a Casava design file.
                This command can also create synbolic links for input files in the directory of the output design file.
            </action>
            <action dev="jourdren" type="add">
                Add genome mapper index storage.
            </action>
            <action dev="jourdren" type="add">
                Add genome and annotation storages and protocols (genome:// and annotation://).
            </action>
            <action dev="jourdren" type="add">
                Genome FASTA sequences can now be automatically extracted from GFF3 files.
            </action>
            <action dev="jourdren" type="add">
                Add experimental S3 multipart upload to S3DataProtocol.
            </action>
            <action dev="jourdren" type="update">
                For easier opening of the expression file with Microsoft Excel under Mac OS X,
                the extension of the output of the expression step is now ".tsv" and the name of the first column is renamed from "ID" to "Id".
            </action>
            <action dev="jourdren" type="fix">
                All the local steps use the temporary directory path define with the global parameter "main.tmp.dir" .
            </action>
            <action dev="jourdren" type="add">
                New framework in the the bio package to filter alignments. This framework is not currently used in filtersam step.
            </action>
            <action dev="jourdren" type="add">
                New framework in the bio package to filter reads. This framework allows plug-ins for the filterreads step.
                Add a new read filter based on Illumina filter flag in reads ids.
            </action>
             <action dev="jourdren" type="add">
                Support for Casava 1.8 FASTQ ids parsing.
            </action>
            <action dev="jourdren" type="add">
                The Sequence class can now handle IUPAC RNA and DNA alphabets.
            </action>
            <action dev="jourdren" type="add">
               New package for read, write and handling files generated by Illumina software (e.g. Cavasa designs, RTA logs...).
            </action>
            <action dev="jourdren" type="fix">
               Many fixes in the Worflow class.
            </action>
            <action dev="jourdren" type="add">
                Experimental support for paired-end FASTQ files in filterreads and mapreads steps (for some mappers only).
            </action>
            <action dev="jourdren" type="update">
                Update documentation and a add a tutorial about writing a step plug-in.
            </action>

         </release>

         <release version="1.1.1" description="Eoulsan 1.1.1 release" date="2012-04-17">
            <action dev="jourdren" type="fix" issue="13">
                In distributed mode in mapping step, if temporary directory does not exist, create it.
            </action>
            <action dev="jourdren" type="fix">
                Fix bug in expression computation.
            </action>
             <action dev="jourdren" type="fix" issue="12">
                Fix: The number of alignment with more than one match filtered in
filtersam step log is lower than the number of alignements filtered.
            </action>
         </release>

         <release version="1.1.2" description="Eoulsan 1.1.2 release" date="2012-05-12">
            <action dev="jourdren" type="fix" issue="14">
                In local mode in filter alignement step, the unique alignment written was not the
unique alignment but the next alignment to proceed.
            </action>
	     </release>

	     <release version="1.1.3" description="Eoulsan 1.1.3 release" date="2012-05-14">
            <action dev="jourdren" type="fix" issue="15">
                The order of the parameter steps was not retained.
            </action>
            <action dev="jourdren" type="update">
                In hadoop mode now for reads filter, show in reporters the count
of reads that reject each filter like in local mode.
            </action>
         </release>

         <release version="1.1.4" description="Eoulsan 1.1.4 release" date="2012-05-29">
            <action dev="jourdren" type="fix" issue="16">
                Fix out of memory in expression step in local mode with big sam files.
            </action>
            <action dev="jourdren" type="update">
                Update documentation: Eoulsan application note is now publish in Bioinformatics.
            </action>
         </release>

         <release version="1.1.5" description="Eoulsan 1.1.5 release" date="2012-06-21">
            <action dev="jourdren" type="fix" issue="17">
                Genome files created from GFF files only contains the first chromosome.
            </action>
            <action dev="jourdren" type="fix" issue="18">
                The _genericindexgenerator step fail when the genome was extracted from a GFF file.
            </action>
         </release>

         <release version="1.1.6" description="Eoulsan 1.1.6 release" date="2012-06-26">
            <action dev="jourdren" type="fix" issue="19">
                The create design action did not add genome:// or annotation:// file in design file if the URL contains '.' character.
            </action>
            <action dev="jourdren" type="fix" issue="20">
                The illuminaid filter in filterreads step reject all the reads with ids that contains index sequence with nucleotide 'N'.
            </action>
         </release>

         <release version="1.2" description="Eoulsan 1.2 release" date="2013-02-23">
            <action dev="wallon" type="add">
                Add the paired-end mode in the alignments filtering step.
            </action>
            <action dev="wallon" type="add">
                Add the mapping quality score filter in the alignments filtering step.
            </action>
            <action dev="wallon" type="update">
                Update documentation.
            </action>
            <action dev="wallon" type="add">
                The expression estimation step is now modular.
            </action>
            <action dev="wallon" type="add">
                Add the HTSeq-count program for the expression estimation step.
            </action>
            <action dev="jourdren" type="update">
                Variables and shell expressions can be evaluated in the parameter file.
                This file can also now contains a "constants" section.
            </action>
            <action dev="jourdren" type="add">
                Add a genome description storage to speed up the startup of analysis and avoid multiple genome sequence parsing.
            </action>
            <action dev="jourdren" type="update">
                The "awsexec" command is renamed to "emrexec".
            </action>
            <action dev="jourdren" type="add">
                Eoulsan can now send mail to inform user of the end of the analysis.
            </action>
            <action dev="jourdren" type="add">
                Datatypes and dataformat can now defined in XML files.
            </action>
            <action dev="jourdren" type="update">
                Generated SAM files in Hadoop mode now contains SAM headers.
            </action>
            <action dev="deshaies" type="add">
                Differential analysis and normalization steps can be executed on an Rserve server.
            </action>
            <action dev="deshaies" type="update">
                Update the differential analysis and normalization steps with a new version of DESeq.
            </action>
            <action dev="jourdren" type="add">
                New mappers for mapping step: Bowtie2 and gsmap.
            </action>
            <action dev="jourdren" type="update">
                Remove gsnap and gmap standalone step.
            </action>
            <action dev="jourdren" type="add">
                Add a constant section in the parameter file.
            </action>
         </release>

         <release version="1.2.1" description="Eoulsan 1.2.1 release" date="2013-03-01">
            <action dev="jourdren" type="update">
                Add new configuration options for launching AWS EMR clusters
                (enabling debugging mode, EC2 key pair key to enable ssh connection to remote cluster
                and setting the maximal number of mapper tasks in a task tracker).
            </action>
            <action dev="jourdren" type="update">
                Enable a new locker for the reads mapping step in Hadoop mode that avoid to limit
                the number of maximal mapper tasks of a tasktracker to 2.
            </action>
            <action dev="jourdren" type="update">
                The default Hadoop version in AWS Elastic MapReduce mode is now 1.0.3.
            </action>
            <action dev="jourdren" type="fix" issue="22">
                The order of the reads filters in parameter file is not the order the filter apply on the reads.
            </action>
            <action dev="jourdren" type="update">
                In createdesign command, rename some command line option. Warning: -s is now for the path to the samplesheet and -l is for creating symbolic links.
            </action>
         </release>

         <release version="1.2.2" description="Eoulsan 1.2.2 release" date="2013-03-01">
            <action dev="jourdren" type="fix">
                Fix malformed sample parameter file param-local.xml
            </action>
         </release>

         <release version="2.0-alpha1" description="Eoulsan 2.0-alpha1 release" date="2014-09-24">

            <action dev="jourdren" type="fix">
                In createdesign action fix the --paired-end option that was not working.
            </action>

            <action dev="jourdren" type="add">
                Add a new workflow engine to Eoulsan. Each step have now input and output ports. The user in the workflow file
                can now define for each step which step output port to use as source of data for an input port.
                The workflow engine use now data objects to represent data used by step. A data object can only contains element(s) of the same format.
                At the begining of a step, the worklow engine create a cartesian product between all input data
                to create step tasks. The tasks are then executed by a task scheduler.
            </action>

            <action dev="jourdren" type="add">
                Each step can now define if inputs are required in the working directory. If needed, a step is automaticaly
                added to copy required data to working directory before executing the step.
            </action>

            <action dev="jourdren" type="add">
                Each step can now define if it allow compressed data as input and can also define the compression of output data.
                If needed, a step is automaticaly added to uncompress data to working directory before executing the step.
            </action>

            <action dev="jourdren" type="add">
                Each step can now define if a log file must be created for the step. Each step has now a dedicated log file.
            </action>

            <action dev="jourdren" type="add">
                The "discardouput" attribute of the step tag in the workflow file allow to keep or not keep intermediate files of the worklow.
            </action>

            <action dev="jourdren" type="add">
                The format of the step result file has changed to JSON format. Add a configuration setting to also save the step result file in the old Eoulsan format.
            </action>

            <action dev="jourdren" type="add">
                Add the first parts of the code required for clusterexec action.
            </action>

            <action dev="jourdren" type="add">
                With the new workflow engine, the naming of the output files of the steps has changed.
            </action>

            <action dev="jourdren" type="add">
                Each data object contains metadata in addition to files. Add a storage for file metadata in a ".eoulsanmetadata" file in the workflow output directory.
            </action>

            <action dev="jourdren" type="add">
                Data of the workflow can be splitted in small chucks (and then merged) to achieve distributed computation on a non-hadoop cluster.
            </action>

            <action dev="jourdren" type="add">
                Use a new class called ServiceNameLoader instead of the Java standard ServiceLoader to load plugins.
            </action>

            <action dev="jourdren" type="add">
                Log are now buffered to avoid log print before the end of the parsing of the command line in exec action.
            </action>

            <action dev="jourdren" type="add">
                Add a new class EoulsanLogger dedicated to Logging. This class allow to rename the logger and usage of several
                log files against the thread group that call the EoulsanLogger.getLogger() method.
            </action>

            <action dev="jourdren" type="add">
                The design file and the workflow files are now copied in logs directory.
            </action>

            <action dev="jourdren" type="add">
                The log directory now contains the "working" and "task" subdirectories.
            </action>

            <action dev="jourdren" type="add">
                New Built-in variables are available in workflow file: job.id, job.uuid and logs.path.
            </action>

            <action dev="jourdren" type="add">
                Add a step dedicated to launch checker: CheckerStep.
            </action>

            <action dev="jourdren" type="add">
                The parameter file is now called workflow file.
            </action>

            <action dev="jourdren" type="add">
                Now each step write its output in a working directory. Against the workflow and Eoulsan mode, this working directory can be
                the local working directory (where data is removed at the end of the workflow), the Hadoop working directory (on HDFS) or the output directory.
            </action>

            <action dev="jourdren" type="add">
                The DataType concept no more exists in Eoulsan, there is now only DataFormats.
            </action>

            <action dev="jourdren" type="add">
                DataFile can now (if the protocol support it) create symbolic links, delete files, create and list directories.
            </action>

            <action dev="jourdren" type="add">
                A new locker for the reads mapping step in Hadoop mode is now used. It is
                based on Zookeeper and is very stable.
            </action>

            <action dev="jourdren" type="add">
                Add Eclipse code formatter policy file for Eoulsan and an additional dictionary for words used in Eoulsan code.
            </action>

            <action dev="jourdren" type="add">
                Eoulsan plugin path, JVM memory and option can be configured using environment variables.
            </action>

            <action dev="jourdren" type="add">
                Eoulsan now require Java 7.
            </action>

            <action dev="jourdren" type="add">
                Add a user interface (UI) API. This API is not stable will change in the next versions of Eoulsan. There is currently 3 available UI: "basic" (the default UI),
                "no" (that do nothing) and the experimental "lanterna".
            </action>

            <action dev="sperrin" type="add">
                Integration tests engine has been added to ensure Eoulsan results consistancy across versions. This integration tests
                can be run from maven or using the Eoulsan "it" action. To perform this tests, Eoulsan use the TestNG library.
            </action>

            <action dev="jourdren" type="add">
                Support for multiple versions of a mapper. User can now set the mapper version to use in Eoulsan workflow file.
            </action>

            <action dev="jourdren" type="update">
                The code for launching mappers and parse mappers output has been rewritten.
            </action>

            <action dev="jourdren" type="update">
                Start of porting Eoulsan Hadoop mode to Hadoop 2.x. The Eoulsan Hadoop mode currently not works.
            </action>

         </release>

         <release version="2.0-alpha2" description="Eoulsan 2.0-alpha2 release" date="2014-12-02">

            <action dev="jourdren" type="fix">
                Various fixes in  the workflow engine when use skipped steps.
            </action>

            <action dev="jourdren" type="fix">
                Fix createdesign bug when trying to discover the format of the input files.
            </action>

            <action dev="jourdren" type="add">
                Add a new sam2bam step. This new step currently only works in local mode.
            </action>

            <action dev="jourdren" type="add">
                Add a new step: expressionresultsannotation. This new step allow to add additional annotations to expression files and generate files in TSV, ODS or XLSX formats.
            </action>

            <action dev="jourdren" type="add">
                Add a new step: diffanaresultsannotation. This new step allow to add additional annotations to differential analysis files and generate files in TSV, ODS or XLSX formats.
            </action>

            <action dev="jourdren" type="add">
                Add a new storage protocol for additional annotations.
            </action>

            <action dev="jourdren" type="update">
                Add a new column named "AdditionalAnnotation" in the design file for the additional annotations of the genome.
            </action>

            <action dev="jourdren" type="add">
                Add a new shell step. This step allow to execute a shell command.
            </action>

            <action dev="jourdren" type="update">
                Eoulsan now use now a new instance of each step when running a step task.
            </action>

            <action dev="jourdren" type="update">
                Several updates to make Eoulsan works in an Hadoop 2.0 cluster. Work still in progress.
            </action>

            <action dev="jourdren" type="update">
                Developers can now define in Eoulsan SPI classes the classes that must not be loaded.
            </action>

            <action dev="sperrin" type="update">
                Add several enhancements to the Eoulsan integration tests engine.
            </action>

            <action dev="jourdren" type="update">
                Update of the CSS of the website, and update the main page of the website (e.g. add a screencast).
            </action>

            <action dev="jourdren" type="add">
                Add a dedicated eoulsan-docker.sh script that automatically configure Docker environment like Eoulsan resources mounts.
            </action>

            <action dev="jourdren" type="add">
                Eoulsan now use Maven 3 for building binaries and website.
            </action>

            <action dev="jourdren" type="update">
                Many clean up of Eoulsan code. Eoulsan now use the new features of Java 7.
            </action>

         </release>

         <release version="2.0-alpha3" description="Eoulsan 2.0-alpha3 release" date="2014-12-05">

            <action dev="jourdren" type="fix">
                Fix Dockerfile URL to download Eoulsan.
            </action>

         </release>

         <release version="2.0-alpha4" description="Eoulsan 2.0-alpha4 release" date="2014-12-22">

            <action dev="jourdren" type="fix">
                Fix HTSeq-count bug when an attribute in GFF3 file contains multiple parents. To use this fix,
                you must enable the "splitattributevalues" parameter in the expression step.
            </action>

            <action dev="jourdren" type="fix">
                When the identifier of a step was not equals to the step name, the step parameters where empty.
            </action>

            <action dev="jourdren" type="fix">
                Fix small issues in the workflow engine (step execution order, add an uncompression step when required, skip generators steps when only required only skipped steps).
            </action>

           <action dev="jourdren" type="fix">
                Fix many bugs in SOAP mapper wrapper.
            </action>

            <action dev="sperrin" type="fix">
                Fix some issues in the integration tests engine.
            </action>

            <action dev="jourdren" type="update">
                The create design action can now handle additional annotations.
            </action>

            <action dev="jourdren" type="update">
                The mapper step and the Eoulsan mapper API can now handle several versions and flavors (e.g. long index) of a mapper.
            </action>

            <action dev="jourdren" type="update">
                Add new binary versions for bowtie (1.1.1), bowtie2 (2.2.4), BWA (0.7.10) and GSNAP (2014-10-20).
                The scripts to generate this binaries has also been added to Eoulsan sources.
            </action>

            <action dev="jourdren" type="add">
                Add a new mapper: STAR 2.4.0h. A new step named "starindexgenerator" allow to create custom index for STAR (e.g. with a GFF3 file as parameter)
                like STAR genomeGenerate command.
            </action>

            <action dev="sperrin" type="add">
                Add new Eoulsan step for FastQC.
            </action>

            <action dev="sperrin" type="add">
                Add new Comparator class for bam file.
            </action>
         </release>

         <release version="2.0-alpha5" description="Eoulsan 2.0-alpha5 release" date="2015-02-26">

            <action dev="jourdren" type="fix">
                The JSON of the result files in the job directory was not valid.
            </action>

            <action dev="jourdren" type="fix">
                Splitter and Merger steps now handle data metadata.
            </action>

            <action dev="jourdren" type="fix">
                In the SAM filter step in local mode, force to use Eoulsan temporary directory instead of the system temporary directory.
            </action>

            <action dev="jourdren" type="fix">
                If an output port of a step was not linked, all the other output ports of the step sent no token.
            </action>

            <action dev="jourdren" type="fix">
                In the STARIndexGenerator step, the GFF annotations where not uncompressed before starting the STAR indexer.
            </action>

            <action dev="jourdren" type="fix">
                In the Merger step, the data name of the merged data where not valid in some cases.
            </action>

            <action dev="jourdren" type="fix">
                In the Splitter step, a Data object was created for each file even if the file was a part of a multi-file (e.g. paired-end FASTQ files).
            </action>

            <action dev="sperrin" type="fix">
                The launch of Eoulsan "it" action failed. Add the two required dependencies in the pom.xml file
                (org.beanshell.bsh, v2.0b4 and com.beust.jcommander v1.12).
            </action>

            <action dev="jourdren" type="fix">
                Due to a lack of thread synchronization, in some case only a part of the list of the data to process where sent to the tasks.
            </action>

            <action dev="jourdren" type="add">
                Add an import step that allow to import files without declaring the steps that has been used to create the files.
                Files that are not related to the design file can be also imported using this new step.
            </action>

            <action dev="jourdren" type="add">
                Splitters and mergers now handle new formats: SAM, BAM and expression formats.
            </action>

            <action dev="jourdren" type="add">
                Add new step named "technicalreplicatemerger" that allow to merge technical replicate files of various formats (FASTQ, SAM, BAM and expression).
            </action>

            <action dev="jourdren" type="add">
                The version of a step to use can now be defined in the workflow file.
            </action>

            <action dev="sperrin" type="update">
                Many fixes and update to the IT test engine.
            </action>

            <action dev="sperrin" type="update">
                Change a command line option for the "it" action: the "-c/-conf" option has been renamed to "-testconf".
            </action>

            <action dev="sperrin" type="update">
                Add new patterns for managing comparisons between expected and tested directories:
                in the configuration of a test, add a pattern to check if a file exists.
            </action>

            <action dev="jourdren" type="update">
                Many fixes and update to support Hadoop 2.x.
            </action>

            <action dev="jourdren" type="update">
                If the user do not define temporary directory in the workflow file or in the Eoulsan configuration file, the default directory will be in a "tmp" directory in the job directory.
            </action>

            <action dev="jourdren" type="update">
                Remove the "-upload" option of the hadoopexec action.
            </action>

            <action dev="jourdren" type="update">
                No log file is now written on the console as now a log file is always created in the job directory.
            </action>

            <action dev="jourdren" type="update">
                Cleanup of the context object methods.
            </action>

            <action dev="jourdren" type="update">
                STAR 2.4.0j is now bundled in Eoulsan. STAR 2.4.0i has been removed.
            </action>

            <action dev="jourdren" type="update">
                BWA 0.7.12 is now bundled in Eoulsan. BWA 0.7.10 has been removed.
            </action>

            <action dev="jourdren" type="update">
                GSNAP 2014-12-21 is now bundled in Eoulsan. GSNAP 2014-10-22 has been removed.
            </action>

            <action dev="jourdren" type="update">
                The CopyInputData step now create symbolic links instead copying files if there is no necessary (un)compression is required and if the input and output files are on the same filesystem.
            </action>

         </release>

         <release version="2.0-alpha6" description="Eoulsan 2.0-alpha6 release" date="2015-08-25">

            <action dev="jourdren" type="fix">
                 A cartesian product was done when lanching the CopyOutputDataStep step (the step that copy the outputs of a step).
            </action>

            <action dev="jourdren" type="fix">
                 CopyInputDataStep now do not uncompress input data from the design step when is not necessary.
            </action>

            <action dev="jourdren" type="fix">
                 In some cases the expression computation in Hadoop mode was not correct. Several counts were missing.
            </action>

            <action dev="jourdren" type="update">
                 Eoulsan code is now officialy hosted on GitHub.
            </action>

            <action dev="jourdren" type="update">
                 Add a new user interface for Eoulsan based on the Lanterna library for exec and hadoopexec actions.
            </action>

            <action dev="jourdren" type="update">
                STAR 2.4.0k is now bundled in Eoulsan. STAR 2.4.0j has been removed.
            </action>

            <action dev="jourdren" type="update">
                 Set "--outSAMunmapped Within" as default arguments for the STAR mapper.
            </action>

            <action dev="jourdren" type="update">
                Hadoopexec action is now working with Hadoop 2.x. Filterreads, mapreads, filtersam, filterandmap and expression steps had a dedicated implementation for Hadoop 2.x. Hadoop 1.x support in Eoulsan 2.0 has been removed.
            </action>

            <action dev="jourdren" type="update">
                The sam2bam step had now a dedicated implementation for Hadoop mode.
            </action>

            <action dev="jourdren" type="update">
                Unused mapper indexes on Hadoop cluster nodes are now automatically removed if they not been used since one week.
            </action>

            <action dev="jourdren" type="update">
                The Hadoop log is now saved in a dedicated log file in the job directory.
            </action>

            <action dev="jourdren" type="update">
                Steps without a dedicated Hadoop code can now be executed using the hadoopexec action.
            </action>

            <action dev="jourdren" type="update">
                In workflow file, the "${logs.path}" variable has been renamed to "${job.path}".
            </action>

            <action dev="jourdren" type="update">
                 Eoulsan now use htsjdk 1.118 instead of samtools/picard 1.83. Samtools 1.83 is still used as runtime dependency for FastQC for reading SAM/BAM files.
            </action>

            <action dev="jourdren" type="update">
                Files with the ".gff3" extension can now also be used for GFF files.
            </action>

            <action dev="jourdren" type="update">
                The SOAP mapper and the original Eoulsan expression counter are now deprecated, they will be removed in a next version of Eoulsan.
            </action>

            <action dev="jourdren" type="update">
                 The Google Errorprone static code analysis tool is now executed at each Eoulsan compilation for better source code error detection.
            </action>

            <action dev="jourdren" type="update">
                 Eoulsan now produce a Graphviz file for the workflow to execute in the job directory.
            </action>

            <action dev="jourdren" type="update">
                 The sam2bam step now create in local mode a symbolic link to the BAI file with the same basename than the BAM file.
            </action>

            <action dev="jourdren" type="update">
                 The symbolic links created by Eoulsan in the exec action are now relative symbolic links instead of absolute symbolic links.
            </action>

            <action dev="jourdren" type="update">
                 The output of all the "discardouput" steps are now removed at the end of a successful job.
            </action>

            <action dev="jourdren" type="update">
                 The outputs of the failed and aborted steps are now removed.
            </action>

            <action dev="jourdren" type="update">
                 Add two new read filters: "trimpolynend" and "length.minimal.length.threshold". This new filters replace the "trim.length.threshold" filter that is now deprecated and will be remove in a next version of Eoulsan.
            </action>

            <action dev="jourdren" type="update">
                 Set the default compression level value in sam2bam step to 5 instead of 0.
            </action>

            <action dev="jourdren" type="update">
                 The parameters "max.lines" used in many splitter steps has been renamed to "max.entries".
            </action>

            <action dev="jourdren" type="update">
                 The tasks can now be launched once all the required data of the task is available. Before, tasks where launched only if all the tasks of the dependency steps where completed.
            </action>

            <action dev="jourdren" type="update">
                 The genome and annotation data have now the basename of the file as name.
            </action>

            <action dev="sperrin" type="add">
                 Add new step, GalaxyToolStep, it can use a Toolshed XML file from Galaxy to run new tool in Eoulsan workflow.
            	 Actually, it can be manage basic toolshed syntax.
            </action>

            <action dev="sperrin" type="add">
                 Add a new FastQC step that can be launch on FASTQ or SAM files in local mode.
            </action>

            <action dev="jourdren" type="add">
                 Now the FastQC step is hadoop compatible.
            </action>

            <action dev="sperrin" type="update">
                 Add several enhancements to the Eoulsan integration tests report file.
            </action>

            <action dev="sperrin" type="update">
                 Add a new option in the command line to override the output directory defined in the integration tests configuration.
            </action>

            <action dev="sperrin" type="update">
                 Add a new IT parameter that allow to remove output files of an integration test after the end of the test to save space disk.
            </action>

         </release>

         <release version="2.0-alpha7" description="Eoulsan 2.0-alpha7 release" date="2016-01-04">

            <action dev="jourdren" type="fix">
                 The eoulsan.sh script now works with old bash versions.
            </action>

            <action dev="jourdren" type="fix">
                 In SAM/BAM splitters and mergers, the JVM temporary directory was used instead of the Eoulsan temporary directory.
            </action>

            <action dev="jourdren" type="fix">
                 In the "shell" step, if the SHELL environment variable is not set, now use /bin/sh as default shell.
            </action>

            <action dev="jourdren" type="update">
                 The read mapper code has been refactored and impoved to be more efficient by using named pipes.
                 The new code avoid copying FASTQ files on Hadoop nodes in the mapping step.
                 Mapper binaries now can be provided by the user on the filesystem or in a Docker container.
            </action>

            <action dev="jourdren" type="add">
                 Add a new action "clusterexec" that allow to execute an Eoulsan workflow on a non Hadoop cluster. HTCondor is the first cluster scheduler supported by Eoulsan in this mode.
            </action>

            <action dev="jourdren" type="update">
                 Eoulsan now support the cluster scheduler of the TGCC.
            </action>

            <action dev="jourdren" type="add">
                 Add a new scheduler that allow to run tasks from steps that are not designed for Hadoop on an Hadoop cluster. The steps must have the @HadoopCompatible annotation and must only the DataFile API to access to the input and output files.
            </action>

            <action dev="jourdren" type="add">
                 Add "requiredprocs" and "requiredmemory" attributes for the step tag in the workflow file. This new attributes allow to define in cluster and hadoop modes the required number of processors and memory to use by a step task.
            </action>

            <action dev="jourdren" type="add">
                 Add "dataproduct" atribute for the step tag in the workflow file. This new attribute allow to define the method (cross product or match) to use to combine data before executing a step.
            </action>

            <action dev="jourdren" type="update">
                 Galaxytools files can now be related to a Docker image thanks to a new "dockerimage" attribute for the "command" tag of the Galaxytool files.
            </action>

            <action dev="jourdren" type="update">
                 Galaxytools files can use standard interpreters (e.g. perl, python, ruby...) like with the "real" Galaxy software.
            </action>

            <action dev="firmo" type="add">
                 The createdesign action now support bcl2fastq 2 output.
            </action>

            <action dev="jourdren" type="update">
                 Rename "pairend.accept.pairend" read filter parameter to "pairedend.accept.paired.end" and rename "pairend.accept.signlend" read filter parameter to "pairedend.accept.single.end".
            </action>

            <action dev="jourdren" type="remove">
                 The "annotationfile" parameter has been removed from expressionresultsannotation and diffanaresultsannotation steps. User must now use the AdditionalAnnotation column in the design file.
            </action>

             <action dev="jourdren" type="remove">
                 The "hadoop.mapper.required.memory" parameter has been removed from the mapreads step. User must now use the "requiredmemory" attribute of the "step" tag in the workflow file to define the amount of memory required by the mapper in hadoop mode.
            </action>

            <action dev="jourdren" type="update">
                 In the "expressionresultsannotation" step rename the "gtf.file" parameter to "use.gtf.file".
            </action>

            <action dev="jourdren" type="remove">
                 The support for the SOAP 2 mapper has been removed.
            </action>

            <action dev="jourdren" type="update">
                 The "htseq-count" count is now the default counter.
            </action>

            <action dev="jourdren" type="remove">
                 Remove the old Eoulsan 1.0/1.1 expression step counter in both local and Hadoop mode.
            </action>

            <action dev="jourdren" type="remove">
                 Remove all the 32 bits versions of the mappers.
            </action>

            <action dev="jourdren" type="update">
                 The workfow GraphViz file now contains an example of the command to launch to create a PNG file.
            </action>

            <action dev="jourdren" type="update">
                 The IlluminaReadId class now support the new Illumina FASTQ header generated by bcl2fastq 2 when no sample is indexed in a lane.
            </action>

            <action dev="jourdren" type="update">
                 The "expressionresultsannotation" can now be executed on an Hadoop cluster.
            </action>

            <action dev="jourdren" type="update">
                 Add new environment variable EOULSAN_JAVA_HOME that can be used to specify a JRE for Eoulsan that is not the default JRE or the JRE defined by the JAVA_HOME environment variable.
            </action>

            <action dev="jourdren" type="update">
                 Now save the logs of the external libraries in a "additional.log" file in  the job directory.
            </action>

            <action dev="jourdren" type="add">
                 Add a "Counters" section in step result files that summaries counters of tasks with the same name (useful when using splitters and mergers in a workflow).
            </action>

            <action dev="jourdren" type="update">
                 Eoulsan now check if unknown tags or attributes exists in the XML workflow file.
            </action>

            <action dev="jourdren" type="update">
                 Many cleanup code, javadoc and typo fixes.
            </action>

            <action dev="jourdren" type="update">
                 Add examples for all the steps.
            </action>

        </release>

         <release version="2.0-beta1" description="Eoulsan 2.0-beta1 release" date="2016-03-08">

            <action dev="jourdren" type="fix">
		At the end of an analysis that use Docker, Eoulsan now properly stop the Docker connection and had not to wait several seconds the end of the connection.
            </action>

            <action dev="jourdren" type="fix">
                Eoulsan can now execute Sweave code using R >= 3.1.0.
            </action>

            <action dev="jourdren" type="fix">
                In the "diffanaresultsannotation" step, user can now define the pattern of the files to convert and the prefix of the output files.
            </action>

            <action dev="jourdren" type="fix">
                Fix the workflows in the quickstart guide.
            </action>

            <action dev="jourdren" type="fix">
                The "diffanaresultsannotation" step now depends of the previous step in the workflow, so this step cannot be executed before the previous has finished.
            </action>

            <action dev="jourdren" type="fix">
                The standard scheduler was resumed before the end of all the tasks handled by scheduler dedicated of the steps that manage their own parallelization.
            </action>

            <action dev="bauquet" type="add">
                 Add a new format for the Eoulsan design file that allow to define complex design using DESeq2.
            </action>

            <action dev="bauquet" type="update">
                 Replace the implementation of the Eoulsan design object to handle the 2 formats of design files.
            </action>

            <action dev="jourdren" type="add">
                 Add a new step "deseq2" that allow to perform normalization and differential analysis using DESeq2.
            </action>

            <action dev="firmo" type="add">
                 Add a new step "bam2sam" that allow to convert BAM files to SAM files.
            </action>

            <action dev="firmo" type="add">
                 Add a new step "sam2fastq" that allow to convert SAM files to FASTQ files.
            </action>

            <action dev="jourdren" type="add">
                 Eoulsan can now handle Ctrl-C user action to properly stop a running workflow.
            </action>

            <action dev="jourdren" type="update">
                 "condor" scheduler name has been renamed to "htcondor" as it is is official name since 2012.
            </action>

            <action dev="jourdren" type="update">
                 Bcl2fastq samplesheet related classed are now in the Aozan dependency.
            </action>

            <action dev="firmo" type="update">
                 Reorganize translator package code.
            </action>

            <action dev="jourdren" type="update">
                 Rename fr.ens.transcriptome.eoulsan.* packages to fr.ens.biologie.genomique.eoulsan.*
            </action>

            <action dev="jourdren" type="update">
                The new Eouslan website URL is http://outils.genomic.biologie.ens.fr/eoulsan and the new Genomic platform website is https://genomique.biologie.ens.fr.
            </action>

            <action dev="firmo" type="update">
                Update the links of the clickable cells in XLSX and ODS files generated by the "expressionresultsannotation" and "diffanaresultsannotation" steps.
            </action>

            <action dev="jourdren" type="update">
                The URL of the links in XLSX and ODS files generated by the "expressionresultsannotation" and "diffanaresultsannotation" steps are now configurable using the main.additional.annotation.hypertext.links.path configuration parameter.
            </action>

            <action dev="jourdren" type="add">
                Now remove the uncompressed version of the genome mapper at the end of the analysis to save space.
            </action>

            <action dev="jourdren" type="update">
                Now file searching with no extension is allowed for genome://, annotation:// and additionalannotation:// protocols.
            </action>

            <action dev="jourdren" type="update">
                The search of a file is now case insensitive for genome://, annotation:// and additionalannotation:// protocols when the underlying protocols support directory listing.
            </action>

            <action dev="jourdren" type="fix">
                In STARIndexGenerator, the path to the gff file in the command line was not an absolute path like the genome file path.
            </action>

            <action dev="jourdren" type="add">
                Add new options to Normalization and diffana steps to select the R execution method (process, Rserve or Docker). Normalization and diffana steps can now work in a Docker container.
            </action>

            <action dev="jourdren" type="update">
               For normalization and differential analysis (using DESeq or DESeq2), Eoulsan now check if the required R execution method is available (R executable, Docker image or Rserve server).
            </action>

            <action dev="jourdren" type="update">
                In the "diffanaresultsannotation" and "expressionresultsannotation" steps, add an option disable the usage of an additional annotation file.
            </action>

            <action dev="jourdren" type="add">
                Add a new dataformat for the GTF files. Currently no step use this new dataformat.
            </action>

            <action dev="jourdren" type="add">
                Add a new storage protocol dedicated to GTF file: gtf://.
            </action>

            <action dev="jourdren" type="update">
                The annotation:// protocol has been renamed gff://, the annotation:// protocol is now deprecated.
            </action>

            <action dev="jourdren" type="add">
                Add the support for new job scheduler for the clusterexec mode: SLURM, TORQUE and PBS Pro.
            </action>

            <action dev="jourdren" type="fix">
                The shell and the diffanaresultsannotation now depends on all previous step and not just the previous step.
            </action>

            <action dev="jourdren" type="fix">
                In CombinedTaskScheduler, the standard scheduler was resumed before the end of all the tasks handled by the own parallelization scheduler.
            </action>

            <action dev="jourdren" type="fix">
                In the Graphviz file generated by Eoulsan at the startup of a workflow, the string are now XML escaped.
            </action>

            <action dev="jourdren" type="update">
                Reorganize Eoulsan code, many classes name related to the workflow engine has been renamed. The step package has been renamed to module, and the *Step classes to *Module.
            </action>

            <action dev="jourdren" type="fix">
                The writing module documentation page has been updated with Eoulsan 2 API.
            </action>

         </release>

         <release version="2.0-beta2" description="Eoulsan 2.0-beta2 release" date="2016-03-21">

            <action dev="jourdren" type="fix">
		In DESeq2Module, rename the "statistic.test" parameter to "statistical.test" like in Eoulsan documentation.
            </action>

            <action dev="jourdren" type="fix">
		In DESeq2 module, now correctly handle all the cases to define the references of a design.
            </action>

            <action dev="jourdren" type="fix">
		In the design format v2, the reference value of the "[Experiment]" section is now "reference" instead of "Reference" like in documentation.
            </action>

            <action dev="jourdren" type="fix">
		In the createdesign action, the "RepTechGroup" field is now created for all the experiments and not only for the default experiement.
            </action>

            <action dev="jourdren" type="fix">
		In the GFFChecker, now check sequence regions described in GFF3 files once all the GFF3 file has been parsed because the "##sequence-region" pragmas can be anywhere in the file and not only at the beginning of the file.
            </action>

            <action dev="jourdren" type="fix">
		The FastQC module can now handle input files without any entry.
            </action>

            <action dev="jourdren" type="fix">
		When using Docker, the content of the stdout and stderr files were inverted.
            </action>

            <action dev="jourdren" type="fix">
		The illuminaid read filter, do not remove now reads that not contain the Illumina filter flag.
            </action>

            <action dev="jourdren" type="update">
		When an error occurs in a workflow, the exception is now log in the Eoulsan log file.
            </action>

            <action dev="jourdren" type="update">
		Many small code and Javadoc fixes using IDEA inspect tool and Findbugs.
            </action>

         </release>

         <release version="2.0-beta3" description="Eoulsan 2.0-beta3 release" date="2016-04-03">

            <action dev="jourdren" type="fix">
                The Illumina read header parser can now parse headers from reads created using several indexes for the demultiplexing.
            </action>

            <action dev="jourdren" type="update">
                Replace homemade Cheetah interpreter implementation by the original implementation using Jython.
            </action>

         </release>

         <release version="2.0-beta4" description="Eoulsan 2.0-beta4 release" date="2016-04-26">

            <action dev="jourdren" type="fix">
                No Eoulsan class now use Spliter.splitToList() method to avoid exception when using Hadoop and its bundled version of Guava.
            </action>

            <action dev="jourdren" type="fix">
                In Eoulsan2DesignReader, The samples were not added to the experiements if no column dedicated to the experiment has been created.
            </action>

            <action dev="jourdren" type="fix">
                In the design v2, the comparisons value of the [Experiment] section is now "comparisons" like in documentation instead of "comparison".
            </action>

            <action dev="jourdren" type="fix">
                The step parameters are now evalued when parsing the &lt;outputs&gt; subtags in Galaxy tool files.
            </action>

            <action dev="jourdren" type="fix">
                In the DESeq2 module the comparison entries strings were not trimmed.
            </action>

            <action dev="jourdren" type="update">
                Add GTF format support in the GFFEntry class and add a GTFReader and a GTFWriter classes to read and write GTF files.
            </action>

            <action dev="jourdren" type="update">
                Add support of the GTF format for feature annotation files in the expression step.
            </action>

            <action dev="jourdren" type="update">
                Add a checker for GTF format.
            </action>

            <action dev="jourdren" type="update">
                The FastQC module can now process the two read files in paired-end.
            </action>

            <action dev="jourdren" type="update">
                Add a TMPDIR variable that contains the path to the local temporary directory when interprets the &lt;command&gt; tag of the Galaxy tool files.
            </action>

            <action dev="jourdren" type="update">
                In eoulsan.sh, now set the value of $TMPDIR environment variable as the JVM temporary directory if defined.
            </action>

            <action dev="jourdren" type="update">
                Add a new "main.executables.tmp.dir" configuration parameter that allow to define the temporary directory where executables are extracted from the Eoulsan jar.
            </action>

         </release>

         <release version="2.0-beta5" description="Eoulsan 2.0-beta5 release" date="2017-04-07">

            <action dev="jourdren" type="fix">
                The createdesign action can now handle GTF files.
            </action>

            <action dev="jourdren" type="fix">
                In STARIndexGeneratorModule, when a GTF file was required by user, the module still tried to open a GFF file.
            </action>

            <action dev="jourdren" type="fix">
                Fix links in XLSX files created by Eoulsan.
            </action>

            <action dev="jourdren" type="fix">
                Fix lock issue in Hadoop mode with STAR mapper.
            </action>

            <action dev="jourdren" type="fix">
                The stderr output is now redirected to /dev/null for all mappers to avoid fullil the stderr buffer by the mapper and block the mapping.
            </action>

            <action dev="jourdren" type="fix">
                Fix issues when parsing DESeq2 module parameters.
            </action>

            <action dev="jourdren" type="fix">
                Fix issues when generating plots with DESeq2.
            </action>

            <action dev="jourdren" type="fix">
                In HTSeq-count, now check if input data is paired-end by reading the data instead of using Eoulsan metadata.
            </action>

            <action dev="jourdren" type="fix">
                Fix the "diffanaresultsannotation" module to avoid saving output files on HDFS in Hadoop mode.
            </action>

            <action dev="jourdren" type="fix">
                In design step, now get the compression of the files even if storage protocols have been used (e.g. genonme:// or gff://).
            </action>

            <action dev="jourdren" type="add">
                The createdesign action can now handle several bcl2fastq samplesheets arguments.
            </action>

            <action dev="jourdren" type="add">
                Add several read filters that come from Trimmomatic.
            </action>

            <action dev="jourdren" type="add">
                Add STAR 2.5.2b binary in the Eouslan jar. This version is now the default version for Eoulsan.
            </action>

            <action dev="jourdren" type="add">
                Add GSNAP/GMAP STAR 2017-02-25 binary in Eouslan jar.
            </action>

            <action dev="jourdren" type="add">
                Add a new data type for cutadapt adapters.
            </action>

            <action dev="jourdren" type="add">
                Add new methods for the Sequence class: reverse(), complement(), reverseComplement(), getIdentifierInName() and getDescriptionInName().
            </action>

            <action dev="jourdren" type="update">
                The output files of each step are now saved in a dedicated directory.
            </action>

            <action dev="jourdren" type="update">
                The createdesign action now use for the default condition and the technical replicate the sample name instead of the sample id.
            </action>

            <action dev="jourdren" type="update">
                Modules that require Docker can now be used in Hadoop mode.
            </action>

            <action dev="jourdren" type="update">
                The default arguments with Bowtie 2 are now: "-k 2".
            </action>

            <action dev="jourdren" type="update">
                Rename the "mapping.quality" SAM filter to "quality".
            </action>

            <action dev="jourdren" type="update">
                GMAP mapper can now be used in Eoulsan as a flavor of GSNAP.
            </action>

            <action dev="jourdren" type="update">
                For the BWA mapper, user can now use the "mem" alignment algorithm in addition of the "aln" algorithm by selecting the flavor of the mapper.
            </action>

            <action dev="jourdren" type="update">
                In expression module in local mode, add a new counter that indicate the number of missing mate alignments.
            </action>

         </release>

         <release version="2.0" description="Eoulsan 2.0 release" date="2017-11-06">

            <action dev="jourdren" type="fix">
               Fix issues with BWA mem wrapper.
            </action>

            <action dev="jourdren" type="fix">
               When using a Galaxy module in Docker mode with input files that are outside the workflow directory, they were not mounted in the container.
            </action>

            <action dev="jourdren" type="fix">
               The XLSX files created by Eoulsan now use a formula to create hyperlinks in XLSX spreadsheets. This is more portable with Microsoft Excel and Libreoffice.
            </action>

            <action dev="jourdren" type="fix">
               In clusterexec mode, the result of the task was sending to the deseriablized workflow and not to the real workflow.
            </action>

            <action dev="jourdren" type="fix">
               The name of tasks were not always as expected in the step result files.
            </action>

            <action dev="jourdren" type="fix">
               Fix NullPointerException when the required Docker images were not installed.
            </action>

            <action dev="jourdren" type="fix">
               Many fixes in the workflow engine to improve the stability of the software.
            </action>

            <action dev="jourdren" type="fix">
               The mapping stalled when FASTQ input files were empty or very small.
            </action>

            <action dev="jourdren" type="add">
                Add GMAP/GSNAP 2017-04-24 to Eoulsan.
            </action>

            <action dev="jourdren" type="add">
               Add "asap" as a new value for the "discardoutput" attribute of the workflow to remove output files of a step once all the steps that require this outputs are completed.
            </action>

            <action dev="jourdren" type="add">
               Add a new filter to select only a type of Nanopore sequence.
            </action>

            <action dev="jourdren" type="add">
               Eoulsan can now handle Galaxy tools with text parameters.
            </action>

            <action dev="jourdren" type="add">
               Add support for HTCondor ConcurrencyLimits. The defined value will be used for all submitted jobs.
            </action>

            <action dev="jourdren" type="add">
               Add a "main.docker.mount.nfs.roots" global parameter that allow to avoid some right issues with files stored on NFS storage and Docker.
            </action>

            <action dev="jourdren" type="add">
               Add a new class NanoporeReadId to easily parse Nanopore read ids.
            </action>

            <action dev="jourdren" type="add">
               Add classes to handle expression matrices.
            </action>

           <action dev="jourdren" type="add">
               Add the Fast5 class from the Toullig project in Eoulsan.
            </action>

            <action dev="jourdren" type="update">
                The generate-casava-design-validator.sh script that is now in Aozan git repository.
            </action>

            <action dev="jourdren" type="update">
               Big refactoring of the API of the readsmapper package. The new API is more convinient and easier to improve.
            </action>

            <action dev="jourdren" type="update">
               The "requiredprocs" attribute can now be use for standard steps in local mode.
            </action>

            <action dev="jourdren" type="update">
               Update HTCondor wrapper to handle last HTCondor version changes.
            </action>

            <action dev="jourdren" type="update">
               Add a "copy" parameter in the import module. This will allow to always copy files to import.
            </action>

            <action dev="jourdren" type="update">
               In "clusterexec" mode, now use a waiting queue for all scheduler status queries instead of a sleeping time for each job. Now waits one second between two queries.
            </action>

            <action dev="jourdren" type="update">
               Now use the "HH:MM:SS.mmm" format instead of the "MM:SS.mmm" format.
            </action>

         </release>

         <release version="2.1" description="Eoulsan 2.1 release" date="2017-11-22">

            <action dev="jourdren" type="fix">
               In cluster mode, the path to the job submission script was not correct if eoulsan.sh was launched from a symbolic link.
            </action>

            <action dev="jourdren" type="fix">
               Now in cluster mode, do not export the DISPLAY environment variable when submitting jobs. If the DISPLAY environment variable exits and no related X server is available, the annotation steps will fail when generating XLSX files.
            </action>

            <action dev="jourdren" type="fix">
               In AbstractWorkflow, avoid ConcurrentModificationException with cluster mode in some rare cases.
            </action>

            <action dev="jourdren" type="add">
               Add Minimap2 mapper support.
            </action>

            <action dev="jourdren" type="add">
               Add two new alignment filters based on the SAM flag: "removesecondary" and "removesupplementary".
            </action>

            <action dev="jourdren" type="update">
               Remove "local.threads" and "max.local.threads" options in the "starindexgenerator" module. The number of threads to use for the step using this module is now defined using the "requiredprocs" of the step XML tag.
            </action>

         </release>

         <release version="2.2" description="Eoulsan 2.2 release" date="2018-04-17">

            <action dev="jourdren" type="fix">
               When using the createdesign action, if the symbolic link to create already exists, now rename it.
            </action>

            <action dev="jourdren" type="fix">
               Now do not try to create a Docker connection when closing Docker connections.
            </action>

            <action dev="jourdren" type="fix">
               Fix symbolic link creation in MapperInstance.computeIndex() when reference genome is not compressed.
            </action>

            <action dev="jourdren" type="fix">
               When create Docker binds, now binds also file indirections of the files to mount.
            </action>

            <action dev="jourdren" type="fix">
               In the filtersam module in local mode, a bad SAM entry format led to not process the last alignments of the SAM file.
            </action>

            <action dev="jourdren" type="fix">
               Now use the eoulsan temporary directory instead of the system temporary directory when creating XLSX files in DiffanaResultsAnnotationModule and ExpressionResultsAnnotationModule.
            </action>

            <action dev="jourdren" type="fix">
               In STARIndexGeneratorModule, now only add the "--sjdbOverhang" STAR option to the command line when the overhang is set.
            </action>

            <action dev="jourdren" type="fix">
               When using a Galaxy tool, the command were executed two times.
            </action>

            <action dev="jourdren" type="update">
               Now by default 4096 MiB are allocated to the JVM for running Eoulsan instead of 2048 MiB.
            </action>

            <action dev="jourdren" type="update">
               In the sam2bam module in local mode, now also create .bam.bai symbolic links.
            </action>

            <action dev="jourdren" type="update">
               Reenable MA plots for contrast analysis with DESeq2.
            </action>

            <action dev="jourdren" type="update">
               Now all the genome mapper indexes produces uncompressed ZIP archives for faster startup of the mapping step.
            </action>

            <action dev="jourdren" type="update">
               The FastQC module now also generate a ZIP report in addition to the HTML report.
            </action>

            <action dev="jourdren" type="update">
               For Galaxy tools, add a new variable in the Cheetah interpreter named "THREADS" that contains the number of required threads by the user. The value default value of this variable is 1.
            </action>

            <action dev="jourdren" type="add">
               Eoulsan now produce a image file from the Graphviz file of the workflow if GraphViz is installed on the system..
            </action>

            <action dev="jourdren" type="add">
               Now in non-hadoop mode, Eoulsan create an error file (and log files for STAR) for the mapping steps.
            </action>

            <action dev="jourdren" type="add">
                Now save the standard output and standard error of the mapper index builder in files.
            </action>

            <action dev="jourdren" type="add">
               Add Minimap2 2.10 binary into Eoulsan.
            </action>

            <action dev="jourdren" type="add">
               Add a new module for MultiQC, supported reports are FastQC, mapreads, expression and FeatureCounts.
            </action>

            <action dev="jourdren" type="add">
               Add expression matrix dedicated classes in the bio package. Two implementation are provided (dense and sparse). Supported files formats are TSV, UMI-tools, MarketMatrix and Cell Ranger (some formats can be only read or written).
            </action>

            <action dev="jourdren" type="update">
               Update the syntax of the XML data formats: the toolshedgalaxy/extension tags are renamed galaxy/formatname. Backward compatibility is conserved.
            </action>

         </release>

         <release version="2.3" description="Eoulsan 2.3 release" date="2018-09-13">

            <action dev="jourdren" type="fix">
               Now use findbugs-maven-plugin 3.0.1 instead of 2.5.5, due to issue with JD8 while launching findbugs with Maven.
            </action>

            <action dev="jourdren" type="fix">
               Add new option named "max.entries.in.ram" in the sam2bam module to avoid out of memory errors when converting alignments of long reads.
            </action>

            <action dev="jourdren" type="fix">
               Now use Javassit 3.23.1 to avoid Warning message with Java > 8.
            </action>

            <action dev="jourdren" type="add">
               Add many dedicated ChIP-Seq modules. This modules are experimentals and are not currently documentated.
            </action>

            <action dev="jourdren" type="add">
               Add a new module named "RSingleCellExperimentCreator" that allow to create a Bioconductor SingleCellExperiment data structure for single cell experiment analysis.
            </action>

            <action dev="jourdren" type="add">
               Eoulsan now creates a "eoulsan-data" directory that will store this data to avoid a new computation when relaunching the workflow.
            </action>

            <action dev="jourdren" type="add">
               Add a new action named "info" that display the System and Eoulsan configuration.
            </action>

            <action dev="jourdren" type="add">
               Add a new action named "formats" that display the available formats.
            </action>

            <action dev="jourdren" type="add">
               Add a new action named "modules" that display the available modules.
            </action>

            <action dev="jourdren" type="add">
               Add a new module named "splice2bed" than convert SAM alignments into BED entries.
            </action>

            <action dev="jourdren" type="add">
               Add new APIs to handle BED files.
            </action>

            <action dev="jourdren" type="update">
               Heavy refactoring of the workflow engine that is now based on the Guava event bus. This refactoring will avoid some rare bugs.
            </action>

            <action dev="jourdren" type="update">
               The counter API has been refactored. The excuted code in local and Hadoop is now the same. With this new API, it will be easier to implements new counters.
            </action>

            <action dev="jourdren" type="update">
               Add many options to the HTSeq-count counter to have the same features ad original HTSeq-count implementation. The same unit tests as original HTSeq-count implementation are now used to validate the Java implementation.
            </action>

            <action dev="jourdren" type="update">
               The expression step can now produce SAM files as output like HTSeq-count or FeatureCounts.
            </action>

            <action dev="jourdren" type="update">
               Add a "indexer.arguments" parameter to the "starindexgenerator" module to allow additional index arguments.
            </action>

            <action dev="jourdren" type="update">
               In Galaxy tools, a fallback interpreter can be defined if Docker is not available.
            </action>

            <action dev="jourdren" type="update">
               The "import" module can now be configured to define the format of the data to import. The "directory" option of this module has been removed as the "files" option can now handle paths.
            </action>

            <action dev="jourdren" type="update">
               Many unit tests have been enhanced for FASTA, FASTQ, GFF, GTF and BED format readers and writers.
            </action>

            <action dev="jourdren" type="update">
               FastaReader, FastqReader, TFQReader classes now do not reuse (Read)Sequence object when parsing a file.
            </action>

            <action dev="jourdren" type="update">
               The GenomicInterval class is now fully covered by unit tests.
            </action>

            <action dev="jourdren" type="update">
               Eoulsan can now works using Java 9.
            </action>

            <action dev="jourdren" type="update">
               In the workflow files, the values of the attributes can be now evaluated by a shell command.
            </action>

            <action dev="jourdren" type="update">
               The maximal memory allocated for JVM is now logged in the Eoulsan log file.
            </action>

            <action dev="jourdren" type="update">
               Add STAR 2.5.1b in addition of previous versions.
            </action>

            <action dev="jourdren" type="update">
               Add Minimap 2.12 in addition of previous versions.
            </action>

         </release>

         <release version="2.4" description="Eoulsan 2.4 release" date="2019-12-20">

            <action dev="jourdren" type="fix">
              Eoulsan can now runs using Java 11.
            </action>

            <action dev="jourdren" type="fix">
              In RSingleCellExperimentCreator class R code, now use "check.names=FALSE" when loading data in R with read.table() to avoid adding "X" to row/column names when the names starts with a digit.
            </action>

            <action dev="jourdren" type="fix">
              In MultiQC module, expression statistics were not in MultiQC report.
            </action>

            <action dev="jourdren" type="fix">
              The import module did not work with ".." parent directories.
            </action>

            <action dev="jourdren" type="fix">
              Avoid "java.awt.AWTError: Assistive Technology not found: org.GNOME.Accessibility.AtkWrapper" error when using FastQC or ODF Toolkit in Hadoop mode.
            </action>

            <action dev="jourdren" type="fix">
              In the workflow engine, steps with list ports where started before receving the last data of the list port.
            </action>

            <action dev="jourdren" type="fix">
              Fix Dockerfile and now use bioconductor/release_sequencing:3.1 image as base image for Eoulsan.
            </action>

            <action dev="jourdren" type="fix">
              The diffanaresultsannotation module fails if a broken link exits in the output directory.
            </action>

            <action dev="jourdren" type="fix">
              Now use Apache commons-compress 1.19 instead of 1.18 (CVE-2019-12402).
            </action>

            <action dev="jourdren" type="fix">
              Now to chooze the version of a module, now prioritize modules from the first module sources when they the same version.
            </action>

            <action dev="jourdren" type="fix">
              In pom.xml, fix security issue detected by GitHub by changing commons-compress and httpclient dependency versions.
            </action>

            <action dev="jourdren" type="add">
              Storages can now created using Galaxy tools.
            </action>

            <action dev="jourdren" type="add">
              Design header entries can now be used as constants in the workflow file.
            </action>

            <action dev="jourdren" type="add">
              Add singularity support for Docker images.
            </action>

            <action dev="berthelier" type="add">
              Add many check for DESeq2 design before launching DESeq2. This checks are also launched in the check step.
            </action>

            <action dev="jourdren" type="update">
              Eoulsan now requires Java 8 to compile.
            </action>

            <action dev="jourdren" type="update">
              Expression matrices classes are now generalized to store any type of Objects (and not only Double). *ExpressionMatrix classes are still dedicated to Double but now inherits from generalized *Matrix classes.
            </action>

            <action dev="jourdren" type="update">
              Add new classes to handle annotation matrix and its I/O classes. Add a new class AnnotationMatrixTranslator that create a translator from an annotation matrix.
            </action>

            <action dev="jourdren" type="update">
              Add CountsReader and CountsWriter interfaces, CountsTSVReader and CountsTSVWriter classes. The ExpressionModule now use CountsTSVWriter to write counts.
            </action>

            <action dev="jourdren" type="update">
              Add several methods to the ExpressionMatrix interface and concrete classes.
            </action>

            <action dev="jourdren" type="update">
              Rewrite of the RSingleCellExperimentCreator.
            </action>

            <action dev="jourdren" type="update">
              A a new class to write ExpressionMatrix object in MarketMatrix sparse format.
            </action>

            <action dev="jourdren" type="update">
              Add a new class named CellRangerExpressionMatrixWriter that can saved an expression matrix in Cell Ranger format (v2 or v3).
            </action>

            <action dev="jourdren" type="update">
              Now use MultiQC 1.7 for default Docker image.
            </action>

            <action dev="jourdren" type="update">
              Merge ChIP-Seq branch.
            </action>

            <action dev="jourdren" type="update">
              Add a new setting for HTCondor job scheduler named "htcondor.nice.user" to enable submitting jobs as "nice jobs" by HTCondor.
            </action>

            <action dev="jourdren" type="update">
              In bpipe-htcondor.sh, now save the outputs (stdout and stderr) and exit code of job submissions to more easily debug HTCondors submission errors.
            </action>

            <action dev="jourdren" type="update">
              Now use lanterna 3.0.1 for the default UI. The UI can now be displayed in the middle of the screen.
            </action>

            <action dev="jourdren" type="update">
              Add support for Hadoop 3.x.
            </action>

            <action dev="jourdren" type="update">
              STAR 2.7.2d is now bundled with Eoulsan.
            </action>

            <action dev="jourdren" type="update">
              Minimap 2.17 is now bundled with Eoulsan.
            </action>

            <action dev="jourdren" type="update">
              In Eoulsan2DesignReader.parseHeader(), now show the error line in the exception message.
            </action>

            <action dev="jourdren" type="update">
              In HTSeqUtils.parseCigar(), now handle "=" and "X" cigar operators. Expression step can now with "=" and "X" cigar operators codes.
            </action>

            <action dev="jourdren" type="update">
              Add singularity support.
            </action>

            <action dev="jourdren" type="update">
              In MapReduceUtils.submitAndWaitForJob(), replace call of Job.waitForCompletion() call by a custom method that allow to retry to connect to the JobTracker if tail connection fails.
            </action>

            <action dev="jourdren" type="update">
              Now check if all the gene/transcript count are null of a sample are null before launching DESeq2.
            </action>

         </release>

         <release version="2.5" description="Eoulsan 2.5 release" date="2021-04-28">

            <action dev="jourdren" type="fix">
              In DESeq2, fix issue when checking null count in expression file when replicate name are not the sample name.
            </action>

            <action dev="jourdren" type="fix">
              Now keep the XML "value" tags even if they are empty in the workflow.xml file in the eoulsan-output directory.
            </action>

            <action dev="jourdren" type="update">
              Update many dependency versions. 
            </action>

            <action dev="jourdren" type="add">
               Add STAR 2.7.8a in addition of previous versions.
            </action>

            <action dev="jourdren" type="add">
               Add Minimap2 2.18 in addition of previous versions.
            </action>

            <action dev="jourdren" type="add">
               Add a new read filter ("polyatail") that try to identify polyA/polyT tails.
            </action>

            <action dev="jourdren" type="add">
               Add a new read filter ("reversepolyt")  that reverse complements reads with a ployT tail.
            </action>

            <action dev="jourdren" type="add">
               Add a new read filter ("removeinvalidpolya") that remove reads without a polyA/polyT tail.
            </action>

            <action dev="jourdren" type="add">
               Add a new read filter ("ggghead") that identify GGG head or CCC tails.
            </action>

            <action dev="jourdren" type="add">
               Add a new read filter ("requireggghead") that remove all the reads without a GGG head sequence.
            </action>

            <action dev="jourdren" type="update">
              In ReadSequence, add a reverse() and reverseComplement() methods.
            </action>

            <action dev="jourdren" type="update">
              In expression module, add a new "max.entries.in.ram" parameter to set the maximal number of SAM output entries to store in memory. By lowering the value of this parameter out of memory errors can be avoided for long reads.
            </action>

         </release>

    </body>

</document>
