<analysis>
    <formatversion>1.0</formatversion>
    <name>my analysis</name>
    <description>Demo analysis</description>
    <author>Laurent Jourdren</author>

    <steps>

        <!-- Filter reads -->
        <step skip="false">
                <name>filterreads</name>
                <parameters>
                        <parameter>
                                <name>trim.length.threshold</name>
                                <value>11</value>
                        </parameter>
                        <parameter>
                                <name>quality.threshold</name>
                                <value>12</value>
                        </parameter>
                </parameters>
        </step>

        <!-- Map reads -->
        <step skip="false">
                <name>mapreads</name>
                <parameters>
                        <parameter>
                                <name>mapper</name>
                                <value>bowtie</value>
                        </parameter>
                        <parameter>
                                <name>mapper.arguments</name>
                                <value>-k 2 --best</value>
                        </parameter>                          
                </parameters>
        </step>

        <!-- SAM filter -->
        <step skip="false">
                <name>filtersam</name>
                <parameters>
                        <parameter>
                                <name>removeunmapped</name>
                                <value></value>
                        </parameter>
                        <parameter>
                                <name>removemultimatches</name>
                                <value></value>
                        </parameter>
                </parameters>
        </step> 

        <!-- Expression -->
        <step skip="false">
                <name>expression</name>
                <parameters>
                        <parameter>
                                <name>counter</name>
                                <value>htseq-count</value>
                        </parameter>
                        <parameter>
                                <name>genomic.type</name>
                                <value>gene</value>
                        </parameter>
                        <parameter>
                                <name>attribute.id</name>
                                <value>ID</value>
                        </parameter>
                        <parameter>
                                <name>stranded</name>
                                <value>no</value>
                        </parameter>
                        <parameter>
                                <name>overlap.mode</name>
                                <value>union</value>
                        </parameter>
                        <parameter>
                                <name>remove.ambiguous.cases</name>
                                <value>false</value>
                        </parameter>  
                </parameters>
        </step>

        <!-- Normalization -->
        <step skip="false">
                <name>normalization</name>
                <parameters>
                        <parameter>
                                <name>execution.mode</name>
                                <value>docker</value>
                        </parameter>
                 </parameters>
        </step>

        <!-- Diffana -->
        <step skip="false">
                <name>diffana</name>
                
                <parameters>
                        <parameter>
                                <name>disp.est.method</name>
                                <value>blind</value>
                        </parameter>
                        <parameter>                        
                                <name>disp.est.sharing.mode</name>
                                <value>fit-only</value>
                        </parameter>                                 
                        <parameter>                                 
                                <name>disp.est.fit.type</name>
                                <value>parametric</value>
                        </parameter>
                        <parameter>
                                <name>execution.mode</name>
                                <value>docker</value>
                        </parameter>
                </parameters>
        </step>

    </steps>

    <globals>
        <parameter>
	        <name>main.docker.uri</name>
	        <value>unix:///var/run/docker.sock</value>
        </parameter>
    </globals>

</analysis>
